<div class="container-fluid">
    <div class="row" id="pageheader">
        <div class="col-sm-3">
            <span class="page-name">
                Agent Activity
            </span>
        </div>
        <div class="col-sm-9 text-end">
            <form [formGroup]="filterForm">
                <div class="row g-2">
                    <div class="col-sm">
                        <ngx-select [items]="clientNameArray" [allowClear]="true"
                            formControlName="ClientId" 
                            (remove)="clearTopFilter('clientId');defaultAgentActivityDivHide = false" (select)="clearTopFilter('Agent');getAllAgentList()"
                            optionValueField="id" optionTextField="Fullname" placeholder="Select Client">
                        </ngx-select>
                    </div>
                    <div class="col-sm">
                        <ngx-select [items]="allAgentLists" [allowClear]="true"
                            formControlName="AgentId"  optionValueField="AgentId"
                            [disabled]="allAgentLists?.length == 0 || !this.filterForm.value.ClientId"
                            (select)="clearTopFilter('subAgent'); areaSubAgentByAgentId();defaultAgentActivityDivHide = true; getAgentProfileData()" optionTextField="FullName"
                            placeholder="Select Agent" (remove)="clearTopFilter('Agent');getAgentProfileData()">
                        </ngx-select>
                        <!-- getAgentProfileData(); -->
                    </div>
                    <div class="col-sm">
                        <div class="col-sm">
                            <ngx-select [items]="allSubAgentsByAgentId" [allowClear]="true"
                               [disabled]="allSubAgentsByAgentId?.length == 0 || !this.filterForm.value.AgentId"
                                formControlName="subAreaAgentId" optionValueField="Id" optionTextField="FullName"
                                (remove)="clearTopFilter('subAgent'); getAgentByBooths();getAgentProfileData()"
                                (select)="clearTopFilter('Booth'); getAgentByBooths(); getAgentProfileData()"
                                placeholder="Select Area  Agent">
                            </ngx-select>
                            <!--   getAgentProfileData() -->
                        </div>
                    </div>
                    <div class="col-sm">
                        <ngx-select [items]="getAgentByBoothsData" 
                        [disabled]="getAgentByBoothsData?.length == 0 ||  !this.filterForm.value.AgentId" 
                        [allowClear]="true"
                            formControlName="BoothId" optionValueField="BoothId" (select)="selBoothByAgent()"
                            optionTextField="BoothName" placeholder="Select Booth" (remove)="clearTopFilter('Booth'); getAgentByBooths();getAgentProfileData()">
                        </ngx-select>
                        <!-- [disabled]="subAreaAgentIdDisabledFlag" -->
                    </div>

                </div>
            </form>
        </div>
    </div>
    <!--  -->
    <div class="row chartbox mb-3" *ngIf="defaultAgentActivityDivHide else noDataFound">
        <div class="col-sm-4">
            <div class="card">
                <div class="card-body">
                    <div class="profile-info">
                        <div class="d-flex mb-3">
                            <div class="flex-shrink-0">
                                <!-- <img src="{{agentProfileData?.ProfilePhoto != '' ? agentProfileData?.ProfilePhoto : 'assets/images/Profile-Photo.jpg'}}"> -->
                            </div>
                            <div class="flex-grow-1 ms-3 pt-2">
                                <h5>{{agentProfileData?.FullName | titlecase}}</h5>
                                <p>{{agentProfileData?.SubUserTypeName}}</p>
                                <p class="contact mb-0">+91-{{agentProfileData?.MobileNo}}</p>
                                <p class="mb-0 contact"><small>{{agentProfileData?.Address | titlecase}}</small></p>
                                <p class="mb-0">{{agentProfileData?.Emailid}}</p>
                                <!-- <p class="mb-0">{{agentProfileData?.Gender == 1 ? 'Male' : 'Female'}}</p> -->
                                <span class="badge  py-1 fw-normal rounded-pill px-3 mt-1"
                                    [ngClass]="{'bg-danger':agentProfileData?.IsUserBlock == 1 , 'bg-success' :agentProfileData?.IsUserBlock == 0}">
                                    {{agentProfileData?.IsUserBlock == 1 ? 'Blocked' : 'Active' }}
                                </span>
                            </div>
                        </div>
                        <div class="mb-3">
                            <small class="text-muted">Booths(s) Assigned :</small>
                            <p class="area">{{agentProfileData?.Booths}}</p>
                            <ng-container *ngIf="agentProfileData?._Area">
                                <small class="text-muted">Area :</small>
                                <p class="area">{{agentProfileData?._Area}}</p>
                            </ng-container>
                        </div>
                        <div class="row row-cols-1 row-cols-md-3 g-2 mb-3">
                            <div class="col">
                                <div class="card shadow-none border">
                                    <div class="card-body p-2">
                                        <h5 class="card-title">{{agentProfileCardData?.TotalVoter}}</h5>
                                        <p class="card-text">
                                            Total Voters
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="col" *ngIf="agentProfileData?.SubusertypeId == 4">
                                <div class="card shadow-none border">
                                    <div class="card-body p-2">
                                        <h5 class="card-title">{{agentProfileCardData?.TotalAssigned}}</h5>
                                        <p class="card-text">
                                            Total Assigned
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="col">
                                <div class="card shadow-none border">
                                    <div class="card-body p-2">
                                        <h5 class="card-title">{{agentProfileCardData?.TotalFilled}}</h5>
                                        <p class="card-text">
                                            Data Filled
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="col">
                                <div class="card shadow-none border">
                                    <div class="card-body p-2">
                                        <h5 class="card-title">{{agentProfileCardData?.Pending}}</h5>
                                        <p class="card-text">
                                            Data Pending
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="col">
                                <div class="card shadow-none border">
                                    <div class="card-body p-2">
                                        <h5 class="card-title">{{agentProfileCardData?.TotalMigrated}}</h5>
                                        <p class="card-text">
                                            Total Migrated
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="col">
                                <div class="card shadow-none border">
                                    <div class="card-body p-2">
                                        <h5 class="card-title">{{agentProfileCardData?.TotalFamily}}</h5>
                                        <p class="card-text">
                                            Total Families
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="col">
                                <div class="card shadow-none border">
                                    <div class="card-body p-2">
                                        <h5 class="card-title">{{agentProfileCardData?.NewVoter}}</h5>
                                        <p class="card-text">
                                            New Voters
                                        </p>
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div class="card shadow-none border mb-3">
                            <div class="card-header">
                                Voter Data Filled Chart
                            </div>
                            <div class="card-body">
                                <div class="agentProfilePiChart chart-container"></div>
                            </div>
                        </div>

                        <div class="row justify-content-end">
                            <div class="col-sm-6 text-end">
                                <button class="btn  btn-sm"
                                    [ngClass]="{'btn-danger':agentProfileData?.IsUserBlock == 0 , 'btn-main' :agentProfileData?.IsUserBlock == 1}"
                                    (click)="blockUser(agentProfileData.ID, agentProfileData.IsUserBlock)">
                                    {{agentProfileData?.IsUserBlock == 1 ? 'Unblock Agent' : 'Block Agent'}}
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-8">
            <div class="card mb-3">
                <div class="card-header">
                    <div class="row justify-content-end">
                        <!-- <div class="col-sm">
                            <div class="form-check">
                                <input class="form-check-input mt-2" type="checkbox" value="" id="chkNewvoters">
                                <label class="form-check-label" for="chkNewvoters">
                                    Show New Voters
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-auto">
                            <div class="form-check">
                                <input class="form-check-input mt-2" type="checkbox" value="" id="chkRemaining">
                                <label class="form-check-label" for="chkRemaining">
                                    Show Remaining Voters
                                </label>
                            </div>
                        </div> -->
                        <form [formGroup]="voterProfilefilterForm">
                            <div class="row g-1 mb-2 border-bottom pb-2">
                                <div class="offset-sm-8 col-sm-4">
                                    <div class="input-group">
                                        <input [owlDateTime]="dt3" formControlName="weekRangePicker"
                                            [selectMode]="'range'"
                                            (dateTimeChange)="voterDateRangeSelect(this.voterProfilefilterForm.value.weekRangePicker)"
                                            class="form-control" [owlDateTimeTrigger]="dt3" placeholder="From To Date"
                                            [max]="maxDate">
                                        <button class="btn btn-light border btn-sm" type="button"
                                            *ngIf="defaultCalenderIconFlag == false" [owlDateTimeTrigger]="dt3">
                                            <i class="fas fa-calendar-alt"></i></button>
                                        <button class="btn btn-light border btn-sm" type="button"
                                            *ngIf="defaultCalenderIconFlag  == true"
                                            (click)="clearFilterDateRangepicker()">
                                            <i class="fas fa-times"></i></button>
                                    </div>
                                    <owl-date-time #dt3 [pickerType]="'calendar'"></owl-date-time>
                                </div>
                                <!-- <div class="col-sm-4">
                                    <div class="input-group">
                                        <input type="text" class="form-control" formControlName="Search"
                                            placeholder="Search..." (keyup)="onKeyUpSearchFilter()" />
                                        <button type="button" class="btn btn-light border btn-sm"
                                            
                                            *ngIf="voterProfilefilterForm.value.Search"><i
                                                class="fas fa-times"></i></button>
                                        <button type="button" *ngIf="!voterProfilefilterForm.value.Search"
                                            class="btn btn-sm border btn-light" (click)="searchVoterFilter(true)"><i
                                                class="fas fa-search"></i></button>
                                    </div>
                                </div> -->
                            </div>
                        </form>
                    </div>
                </div>
                <div class="card-body profile-info">

                    <div class="card mb-3 shadow-none border">
                        <div class="card-header pb-0">
                            Agent Performance
                        </div>
                        <div class="card-body pt-1">
                            <div class="agentPerformancediv chart-container"></div>
                        </div>
                    </div>

                    <div class="card-header p-0 pb-2" id="boothdetails">
                        <ul class="nav nav-pills nav-fill" id="pills-tab" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="pills-migrated-tab" data-bs-toggle="pill"
                                    data-bs-target="#pills-migrated" type="button" role="tab"
                                    aria-controls="pills-migrated" aria-selected="true"
                                    (click)="votersPaginationNo = 1;this.searchVoters.setValue(''); getClientBoothAgentVoterList()">
                                    <h5 class="mb-0">{{this.votersCardData?.TotalVoters}}</h5>
                                    Voters
                                </button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="pills-pending-tab" data-bs-toggle="pill"
                                    data-bs-target="#pills-pending" type="button" role="tab"
                                    aria-controls="pills-pending" aria-selected="false"
                                    (click)="familyPaginationNo = 1; this.searchFamilyVoters.setValue(''); clickOnFamiliyCard()">
                                    <h5 class="mb-0">{{this.votersCardData?.TotalFamiliy}}</h5>
                                    Families
                                </button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="pills-agents-tab" data-bs-toggle="pill"
                                    data-bs-target="#pills-agents" type="button" role="tab" aria-controls="pills-agents"
                                    aria-selected="false"
                                    (click)="newVotersPaginationNo = 1; this.searchNewVoters.setValue(''); clickOnNewVotersList()">
                                    <h5 class="mb-0">{{this.votersCardData?.NewVoters}}</h5>
                                    New Voters
                                </button>
                            </li>
                            <li class="nav-item" role="presentation" *ngIf="agentCAllLogFlag">
                                <button class="nav-link" id="pills-calllog-tab" data-bs-toggle="pill"
                                    data-bs-target="#pills-calllog" type="button" role="tab"
                                    aria-controls="pills-calllog" aria-selected="false"    (click)="callLoggerPaginationNo = 1; this.searchAgentCallLogger.setValue(''); agentCallLogger()">
                                    <h5 class="mb-0">{{this.votersCardData?.TotalCallLogs}}</h5>
                                    Agents Call Log
                                </button>
                            </li>
                        </ul>
                    </div>
                    <div class="tab-content" id="pills-tabContent">
                        <!-- Voters tab start here   -->
                        <div class="tab-pane fade show active" id="pills-migrated" role="tabpanel"
                            aria-labelledby="pills-migrated">
                            <!-- Voters filter start here   -->
                            <div class="row  justify-content-end mb-3">
                                <div class="col-sm-4">
                                    <div class="form-container">
                                        <div class="input-group">
                                            <input class="form-control" type="text" placeholder="Search..."
                                                [formControl]="searchVoters" (keyup)="onKeyUpFilterVoters()" />
                                            <button type="button" class="btn btn-light border btn-sm"
                                                (click)="clearFilters('clearSearchVoters')"
                                                *ngIf="searchVoters.value"><i class="fas fa-times"></i></button>
                                            <button type="button" *ngIf="!searchVoters.value"
                                                class="btn btn-sm border btn-light"><i
                                                    class="fas fa-search"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Voters filter end here   -->
                            <ng-container>
                                <table class="table table-hover mb-0">
                                    <thead>
                                        <tr>
                                            <th>Sr. No.</th>
                                            <th>Voters Full Name</th>
                                            <th>Visit Time</th>
                                            <th>Voter No.</th>
                                            <th>Gender</th>
                                            <th>Contact No1/Contact No2</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr
                                            *ngFor="let clientBooth of clientBoothAgentVoterList | paginate: {id: 'votersPagination', itemsPerPage: 10, currentPage: votersPaginationNo, totalItems:votersTotal}">
                                            <td>{{clientBooth?.SrNo}}</td>
                                            <!-- {{clientBooth?.EnglishName | titlecase}} -->
                                            <td>
                                                <p class="mb-0">
                                                    <a   (click)="redirectToVoterPrfile(clientBooth)"
                                                    class="text-main">{{clientBooth?.EnglishName | titlecase}}</a>
                                                </p>
                                            </td>
                                            <td>{{clientBooth?.SurveyDate | dateTransform}}</td>
                                            <td>{{clientBooth?.VoterNo}}</td>
                                            <td>{{clientBooth?.Gender == 'F' ? 'Female' : 'Male'}}</td>
                                            <td>{{clientBooth?.MobileNo1 ? clientBooth?.MobileNo1 : '-'}}<span *ngIf="clientBooth?.MobileNo2"> /{{clientBooth?.MobileNo2}}</span></td>
                                        </tr>

                                    </tbody>
                                </table>
                            </ng-container>
                            <div class="mt-2 text-end" *ngIf="clientBoothAgentVoterList?.length == 0">
                                <div class="alert alert-danger text-center py-2">No Data Found..!</div>
                            </div>
                            <pagination-controls id="votersPagination" *ngIf="clientBoothAgentVoterList?.length != 0"
                                previousLabel="" nextLabel=""
                                (pageChange)="onClickPagintionVoters(votersPageSize = $event)">
                            </pagination-controls>
                        </div>

                        <!-- families tab start here   -->
                        <div class="tab-pane fade" id="pills-pending" role="tabpanel" aria-labelledby="pills-pending">
                            <!-- new Family filter start here   -->
                            <div class="row  justify-content-end mb-3">
                                <div class="col-sm-4">
                                    <div class="form-container">
                                        <div class="input-group">
                                            <input class="form-control" type="text" placeholder="Search..."
                                                [formControl]="searchFamilyVoters"
                                                (keyup)="onKeyUpFilterFamilyVoters()" />
                                            <button type="button" class="btn btn-light border btn-sm"
                                                (click)="clearFilters('clearSearchFamilyVoters')"
                                                *ngIf="searchFamilyVoters.value"><i class="fas fa-times"></i></button>
                                            <button type="button" *ngIf="!searchFamilyVoters.value"
                                                class="btn btn-sm border btn-light"><i
                                                    class="fas fa-search"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- new Voter filter end here   -->
                            <div class="accordion accordion-flush" id="familytreeaccordion">
                                <div class="row familytree-header g-1">
                                    <div class="col-sm-1">Sr. No.</div>
                                    <div class="col-sm-3">Voter Name</div>
                                    <div class="col-sm-2">Mobile No.</div>
                                    <div class="col-sm-2">Occupation</div>
                                    <div class="col-sm-2">Qualification</div>
                                    <div class="col-sm-1">Migrated</div>
                                    <div class="col-sm-1"></div>
                                </div>
                                <div class="accordion-item"
                                    *ngFor="let familiyList of clientBoothAgentFamiliyList  | paginate: {id: 'familyPagination', itemsPerPage: 10, currentPage: familyPaginationNo, totalItems:familyTotal}; let i = index">

                                    <div class="accordion-header familytree-row">
                                        <div class="row g-1">
                                            <div class="col-sm-1">{{familiyList.SrNo}}
                                            </div>
                                            <div class="col-sm-3">{{familiyList.Family | titlecase}}
                                            </div>
                                            <div class="col-sm-2">
                                                <div *ngIf="familiyList?.MobileNo1"><a class="calltomember"
                                                        href="tel:{{familiyList?.MobileNo1}}">{{familiyList?.MobileNo1}}</a>
                                                </div>
                                                <div *ngIf="!familiyList?.MobileNo1">-</div>
                                            </div>
                                            <div class="col-sm-2">{{familiyList.Occupation | titlecase}}
                                            </div>
                                            <div class="col-sm-2">{{familiyList.Qualification | titlecase}}
                                            </div> 
                                            <div class="col-sm-1">{{familiyList.Migrated | titlecase}}
                                            </div>
                                            <div class="col-sm-1">
                                                <a class="accordion-button collapsed" data-bs-toggle="collapse"
                                                    [attr.data-bs-target]="'#flush-collapseOne'+i" aria-expanded="false"
                                                    aria-controls="flush-collapseOne"
                                                    (click)="familiyList.expanded = !familiyList.expanded; familyDetails(familiyList.ParentVoterId)">
                                                </a>
                                            </div>
                                        </div>
                                    </div>

                                    <div id="flush-collapseOne{{i}}" class="accordion-collapse collapse"
                                        aria-labelledby="family-1" data-bs-parent="#familytreeaccordion">
                                        <div class="accordion-body p-0">

                                            <div class="row familytree-details"
                                                *ngFor="let boothFamilyDetails of boothFamilyDetailsArray">
                                                <div class="col-sm-1">
                                                    {{boothFamilyDetails?.SrNo}}</div>
                                                <div class="col-sm-3">
                                                    {{boothFamilyDetails?.Family}}</div>
                                                <div class="col-sm-2">
                                                    <div *ngIf="boothFamilyDetails?.MobileNo1"><a class="calltomember"
                                                            href="tel:{{boothFamilyDetails?.MobileNo1}}">{{boothFamilyDetails?.MobileNo1}}</a>
                                                    </div>
                                                    <div *ngIf="!boothFamilyDetails?.MobileNo1">-</div>
                                                </div>
                                                <div class="col-sm-2">
                                                    {{boothFamilyDetails?.Occupation | titlecase}}</div>
                                                <div class="col-sm-2">
                                                    {{boothFamilyDetails?.Qualification | titlecase}}
                                                </div>
                                                <div class="col-sm-1">
                                                    {{boothFamilyDetails?.Migrated | titlecase}}</div>
                                                <div class="col-sm-1"></div>
                                            </div>
                                            <div class="mt-2 text-end" *ngIf="boothFamilyDetailsArray?.length == 0">
                                                <div class="alert alert-danger text-center py-2">No Data Found..!
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-2 text-end" *ngIf="clientBoothAgentFamiliyList?.length == 0">
                                    <div class="alert alert-danger text-center py-2">No Data Found..!
                                    </div>
                                </div>
                                <pagination-controls id="familyPagination"
                                    *ngIf="clientBoothAgentFamiliyList?.length != 0" previousLabel="" nextLabel=""
                                    (pageChange)="onClickPagintionFamily(familyPageSize = $event)">
                                </pagination-controls>

                            </div>
                        </div>

                        <!-- New Voters tab start here   -->
                        <div class="tab-pane fade show" id="pills-agents" role="tabpanel"
                            aria-labelledby="pills-agents">
                            <!-- new Voter filter start here   -->
                            <div class="row  justify-content-end mb-3">
                                <div class="col-sm-4">
                                    <div class="form-container">
                                        <div class="input-group">
                                            <input class="form-control" type="text" placeholder="Search..."
                                                [formControl]="searchNewVoters" (keyup)="onKeyUpFilterNewVoters()" />
                                            <button type="button" class="btn btn-light border btn-sm"
                                                (click)="clearFilters('clearSearchNewVoters')"
                                                *ngIf="searchNewVoters.value"><i class="fas fa-times"></i></button>
                                            <button type="button" *ngIf="!searchNewVoters.value"
                                                class="btn btn-sm border btn-light"><i
                                                    class="fas fa-search"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- new Voter filter end here   -->
                            <ng-container>
                                <table class="table table-hover mb-0">
                                    <thead>
                                        <tr>
                                            <th>Sr. No.</th>
                                            <th>Voters Full Name</th>
                                            <th>Visit Time</th>
                                            <th>Voter NO.</th>
                                            <th>Gender</th>
                                            <th>Contact No</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr
                                            *ngFor="let newVotersList of getnewVotersList | paginate: {id: 'newVotersPagination', itemsPerPage: 10, currentPage: newVotersPaginationNo, totalItems:newVotersTotal}">
                                            <td>{{newVotersList?.SrNo}}</td>
                                            <td>{{newVotersList?.EnglishName | titlecase}}</td>
                                            <td>{{newVotersList?.SurveyDate}}</td>
                                            <td>{{newVotersList?.VoterNo ? newVotersList?.VoterNo : '-'}}</td>
                                            <td>{{newVotersList?.Gender == 'F' ? 'Female' : 'Male'}}</td>
                                            <td>{{newVotersList?.MobileNo1}} {{newVotersList?.MobileNo2}}</td>
                                        </tr>

                                    </tbody>
                                </table>
                            </ng-container>
                            <div class="mt-2 text-end" *ngIf="getnewVotersList?.length == 0">
                                <div class="alert alert-danger text-center py-2">No Data Found..!</div>
                            </div>
                            <pagination-controls id="newVotersPagination" *ngIf="getnewVotersList?.length != 0"
                                previousLabel="" nextLabel=""
                                (pageChange)="onClickPagintionNewVoters(newVotersPageSize = $event)">
                            </pagination-controls>
                        </div>

                        <!-- Agents Call Log tab start here   -->
                        <div class="tab-pane fade show" id="pills-calllog" role="tabpanel"
                            aria-labelledby="pills-calllog">
                            <!-- agent call log filter start here   -->
                            <div class="row  justify-content-end mb-3">
                                <div class="col-sm-4">
                                    <div class="form-container">
                                        <div class="input-group">
                                            <input class="form-control" type="text" placeholder="Search..."
                                                [formControl]="searchAgentCallLogger" (keyup)="onKeyUpFilterAgentCallLogger()" />
                                            <button type="button" class="btn btn-light border btn-sm"
                                                (click)="clearFilters('clearSearchAgentCallLogger')"
                                                *ngIf="searchAgentCallLogger.value"><i class="fas fa-times"></i></button>
                                            <button type="button" *ngIf="!searchAgentCallLogger.value"
                                                class="btn btn-sm border btn-light"><i
                                                    class="fas fa-search"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- agent call log filter end here   -->
                            <ng-container>
                                <table class="table table-hover mb-0">
                                    <thead>
                                        <tr>
                                            <th>Sr. No.</th>
                                            <th>Receiver Name</th>
                                            <th>Mobile No.</th>
                                            <th>Date & Time</th>
                                            <th>Call Duration</th>
                                            <th>Call Type</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let callList of getCallLoggerList | paginate: {id: 'agentCallLogsPagination', itemsPerPage: 10, currentPage: callLoggerPaginationNo, totalItems:getCallLoggerTotal}">                                           
                                            <td>{{callList?.SrNo}}</td>
                                            <td>{{callList?.CallerName}}</td>
                                            <td>{{callList?.MobileNo}}</td>
                                            <td>{{callList?.CallDate}}</td>
                                            <td>{{callList?.CallDuration}} Sec</td>
                                            <td>{{callList?.CallType}}</td>
                                            <td>
                                                <ng-container *ngIf="callList?.IsAlert  == 1" else elseBlock> <i class="fas fa-ban text-danger"></i>
                                                </ng-container>
                                                <ng-template #elseBlock> - </ng-template>
                                                </td>
                                               
                                        </tr>
                                       
                                    </tbody>
                                </table>
                            </ng-container>

                        <div class="mt-2 text-end" *ngIf="getCallLoggerList?.length == 0">
                            <div class="alert alert-danger text-center py-2">No Data Found..!</div>
                        </div>
                        <pagination-controls id="agentCallLogsPagination" *ngIf="getCallLoggerList?.length != 0"
                            previousLabel="" nextLabel=""
                            (pageChange)="onClickPagintionAgentCallLogger(callLoggerPageSize = $event)">
                        </pagination-controls>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card mb-3">
                <div class="card-header">App Use Track</div>
                <div class="card-body">
                    <table class="table table-hover mb-0">
                        <thead>
                            <tr>
                                <th>Sr. No.</th>
                                <th>App Device</th>
                                <th>App Open Date & Time</th>
                                <th>App Use Duration (Min)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let appUseTrackRes of boothAgentAppUseTrackRes  | paginate: {id: 'boothAgentPagination', itemsPerPage: 10, currentPage: appUsesActivityPaginationNo, totalItems:getCallLoggerTotal}"> 
                                <td>{{appUseTrackRes?.SrNo}}</td>
                                <td>Android</td>
                                <td>{{appUseTrackRes?.StartDate | dateTransform}} -  {{appUseTrackRes?.EndDate | dateTransform}}</td>
                                <td *ngIf="appUseTrackRes?.difference">{{appUseTrackRes?.difference}} (Min)</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="mt-2 text-end" *ngIf="boothAgentAppUseTrackRes?.length == 0">
                        <div class="alert alert-danger text-center py-2">No Data Found..!</div>
                    </div>
                    <pagination-controls id="boothAgentPagination" *ngIf="boothAgentAppUseTrackRes?.length != 0"
                    previousLabel="" nextLabel=""
                    (pageChange)="onClickPagintionAppUseTrack(appUsesActivityPageSize = $event)">
                </pagination-controls>

                </div>
            </div>

            <div class="card mb-3">
                <div class="card-header">App Location Track</div>
                <div class="card-body">
                    <agm-map [latitude]="lat" [longitude]="lng" [zoom]="zoom" [mapTypeId]="'roadmap'" style="height:500px;">
                        <div *ngFor="let  boothAgentTracking of boothAgentTrackingList">
                            <agm-marker [agmFitBounds]="true" [latitude]=" boothAgentTracking?.Latitude" [longitude]=" boothAgentTracking?.Longitude" (markerClick)="clickedMarker(infowindow)">
                                <agm-info-window #infowindow>
                                    <strong>Date Time - {{boothAgentTracking?.LocationDate | dateTransform}}</strong>
                                </agm-info-window>
                            </agm-marker>
                        </div>
                    </agm-map>
                    <!-- <table class="table table-hover mb-0">
                        <thead>
                            <tr>
                                <th>Sr. No.</th>
                                <th>App Device</th>
                                <th>App Open Date & Time</th>
                                <th>Location From</th>
                                <th>Location To</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>Android</td>
                                <td>12-05-2021, 10:20 AM</td>
                                <td>Mokashi Vasti</td>
                                <td>Ramji Vasti</td>
                            </tr>
                        </tbody>
                    </table> -->
                </div>
            </div>
        </div>
    </div>
    <ng-template #noDataFound>
        <div class="alert alert-danger text-center py-2 mb-0">No Data Found..!</div>
    </ng-template>
</div>