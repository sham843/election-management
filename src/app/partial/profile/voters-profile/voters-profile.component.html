<div class="container-fluid">
    <div class="row mx-0 px-0" id="pageheader">
        <div class="col-sm-2">
            <span class="page-name">
                Voter Profile
            </span>
        </div>
        <div class="col-sm-10 text-end">
            <ol class="breadcrumb mb-0 w-auto d-inline-flex">
                <li class="breadcrumb-item">{{voterProfileData?.State}}</li>
                <li class="breadcrumb-item">{{voterProfileData?.Assemblyid}} {{voterProfileData?.ConstituencyName}}</li>
                <li class="breadcrumb-item">{{voterProfileData?.VillageName}}</li>
                <li class="breadcrumb-item">{{voterProfileData?.BoothName}}</li>
                <li class="breadcrumb-item">{{voterProfileData?.Area}}</li>
                <li class="breadcrumb-item active" aria-current="page">{{voterProfileData?.EnglishName}}</li>
            </ol>
            <!-- Maharashtra->258 MAN->Shripanvan->1-श्रीपालवण->भैरवनाथ मंदीर प्राथमिक शाळा->SANGITA HINDURAO JADHAV -->
        </div>
    </div>

    <div class="row mb-3">
        <div class="col-sm-12">
            <div class="card">
                <div class="card-body p-2">
                    <div class="btn-group voter-repeat" role="group" aria-label="Basic radio toggle button group">
                        <div *ngFor="let VPBoothAgent of voterProfileBoothAgentData">
                        <input type="radio" class="btn-check" name="btnradio" id="btnradio1" autocomplete="off" checked>
                        <label class="btn btn-outline-secondary text-start" for="btnradio1">
                            <small>{{VPBoothAgent.SurveyDate | date:'dd-MM-yyyy hh:mm a'}}</small>
                            <p class="mb-0">{{VPBoothAgent.FullName}} ({{VPBoothAgent.SubUserTypeName}})</p>
                        </label>
                    </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="row g-2 chartbox mb-3">
        <div class="col-sm-3">
            <div class="card">
                <div class="card-body">
                    <div class="profile-info">
                        <div class="d-flex">
                            <div class="flex-shrink-0">
                                <img src="{{voterProfileData?.VoterPhoto}}">
                                <img *ngIf="!voterProfileData?.VoterPhoto" src="assets/images/Profile-Photo.jpg">
                            </div>
                            <div class="flex-grow-1 ms-3 pt-2">
                                <div class="text-end">
                                    <span class="badge small bg-danger mb-2 fw-normal">Do Not Call</span>
                                </div>
                                <h5>{{voterProfileData?.EnglishName}}</h5>
                                <p class="contact">Voter No. : <span class="text-dark fw-bold"> {{voterProfileData?.VoterNo}}</span></p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-body px-0 pt-1">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="voter-label">Nick Name :</span>
                            <span class="voter-data">{{voterProfileData?.NickName ? voterProfileData?.NickName : '-'}}</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="voter-label">Age :</span>
                            <span class="voter-data">{{voterProfileData?.Age ? voterProfileData?.Age : '-'}}</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="voter-label">Date Of Birth :</span>
                            <span class="voter-data">{{voterProfileData?.DateOfBirth ? voterProfileData?.DateOfBirth : '-'}}</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="voter-label">Gender :</span>
                            <span class="voter-data" *ngIf="voterProfileData?.Gender == 'F'">Female</span>
                            <span class="voter-data" *ngIf="voterProfileData?.Gender == 'M'">Male</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="voter-label">Mobile 1 :</span>
                            <span class="voter-data"><i class="fab fa-whatsapp me-1 text-primary"></i> {{voterProfileData?.MobileNo1 ? voterProfileData?.MobileNo1 : '-'}}
                            </span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="voter-label">Mobile 2 :</span>
                            <span class="voter-data">{{voterProfileData?.MobileNo2 ? voterProfileData?.MobileNo2 : '-'}}</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="voter-label">Email :</span>
                            <span class="voter-data">{{voterProfileData?.Email ? voterProfileData?.Email : '-'}}</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="voter-label">Qualification :</span>
                            <span class="voter-data">{{voterProfileData?.Qualification ? voterProfileData?.Qualification : '-'}}</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="voter-label">Occupation :</span>
                            <span class="voter-data">{{voterProfileData?.Occupation ? voterProfileData?.Occupation : '-'}}</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="voter-label">House No. :</span>
                            <span class="voter-data">{{voterProfileData?.HouseNo ? voterProfileData?.HouseNo : '-'}}</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="voter-label">Area :</span>
                            <span class="voter-data">{{voterProfileData?.Area ? voterProfileData?.Area : '-'}}</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="voter-label">Address :</span>
                            <span class="voter-data"> {{voterProfileData?.Address ? voterProfileData?.Address : '-'}}</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="voter-label">Blood Group :</span>
                            <span class="voter-data">{{voterProfileData?.Bloodgroup ? voterProfileData?.Bloodgroup : '-'}}</span>
                        </li>
                    </ul>
                </div>
                <div class="card-body pt-0">
                    <span class="voter-label">Voter Home Images : </span>
                    <div id="voterhomeimages">
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                 <img *ngIf="voterProfileData?.VoterHomePhoto"  src="{{voterProfileData?.VoterHomePhoto}}">
                                 <img *ngIf="!voterProfileData?.VoterHomePhoto" src="assets/images/ele.png">
                            </div>
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#voterhomeimages"
                            data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#voterhomeimages"
                            data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="card">
                <div class="card-header">
                    General Information
                </div>
                <div class="card-body pt-0">
                    <div class="row mb-2">
                        <div class="col-sm-3">
                            <span class="voter-label">Religion : </span>
                        </div>
                        <div class="col-sm-3">
                            <span class="voter-data">{{voterProfileData?.ReligionName}}</span>
                        </div>
                        <div class="col-sm-3">
                            <span class="voter-label">Caste : </span>
                        </div>
                        <div class="col-sm-3">
                            <span class="voter-data">{{voterProfileData?.Castname}}</span>
                        </div>
                    </div>
                    <div class="row mb-2">
                        <div class="col-sm-3">
                            <span class="voter-label">Is Family Head : </span>
                        </div>
                        <div class="col-sm-3">
                            <span class="voter-data">{{voterProfileData?.Head}}</span>
                        </div>
                        <div class="col-sm-3">
                            <span class="voter-label">Family Size : </span>
                        </div>
                        <div class="col-sm-3">
                            <span class="voter-data">{{voterProfileData?.Familysize}}</span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <span class="voter-label">Family Details : </span>
                            <table class="table table-hover mb-0">
                                <thead>
                                    <tr>
                                        <th>Sr. No.</th>
                                        <th>Member Name</th>
                                        <th>Mobile No.</th>
                                        <th>Occupation</th>
                                        <th>Qualifiction</th>
                                        <th>Migration</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let voterProfileFamily of voterProfileFamilyData" [class.active]="voterProfileFamily.SrNo == HighlightRow" (click)="familyMemberData(voterProfileFamily)">
                                        <td>{{voterProfileFamily.SrNo}}</td>
                                        <td>{{voterProfileFamily.Family}}</td>
                                        <td>{{voterProfileFamily.MobileNo1 ? voterProfileFamily.MobileNo1 : '-'}}</td>
                                        <td>{{voterProfileFamily.Occupation ? voterProfileFamily.Occupation : '-'}}</td>
                                        <td>{{voterProfileFamily.Qualification ? voterProfileFamily.Qualification : '-'}}</td>
                                        <td>{{voterProfileFamily.Migrated ? voterProfileFamily.Migrated : '-'}}</td>
                                    </tr>
                                   
                                </tbody>
                            </table>
                            <div  *ngIf="voterProfileFamilyData?.length == 0" class=" mt-2 alert alert-danger p-2 mb-0"><label _ngcontent-age-c139="" class="form-label text-center">No Data Found</label></div>
                            <!-- <div class="mt-2 p-2" *ngIf="voterProfileFamilyData?.length == 0">
                                <div class="alert alert-danger text-center">No Data Found..!</div>
                            </div> -->
                        </div>
                    </div>
                </div>
                <div class="card-header py-0">
                    Political Information
                </div>
                <div class="card-body pt-0">
                    <div class="row mb-2">
                        <div class="col-sm-2">
                            <span class="voter-label">Party Name : </span>
                        </div>
                        <div class="col-sm-4">
                            <span class="voter-data">{{voterProfileData?.partyname}}</span>
                        </div>
                        <div class="col-sm-2">
                            <span class="voter-label">Leader : </span>
                        </div>
                        <div class="col-sm-4">
                            <span class="voter-data">
                                {{voterProfileData?.Leader}}
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </span>
                        </div>
                    </div>
                </div>

                <div class="card shadow-none border mx-3 mb-3">
                    <div class="card-header py-0">
                        Political Influence
                    </div>
                    <div class="card-body pt-0">
                        <div class="form-container">
                            <div class="alert alert-success p-2 mb-2">
                                <label class="form-label">Positive Influence :</label>
                                <div class="form-data" *ngFor="let posNegInf of posNegativeInfData">
                                    <span *ngIf="posNegInf.supportToid == 1">{{posNegInf.Support}}</span>
                                </div>
                            </div>
                            <div class="alert alert-danger p-2 mb-0">
                                <label class="form-label">Negative Influence :</label>
                                <div class="form-data" *ngFor="let posNegInf of posNegativeInfData">
                                    <span *ngIf="posNegInf.supportToid == 4">{{posNegInf.Support}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card-header py-0">
                    Extra Information
                </div>
                <div class="card-body pt-0">
                    <div class="card card-body shadow-none border mb-2 p-2" *ngFor="let voterVisitDetail of voterVisitDetailDataArray">
                        <div class="d-flex">
                            <div class="flex-shrink-0">
                                <!-- (click)="imgData(voterVisitDetail)" -->
                                <span><img class="extrainfo-img" (click)="showGallaryLightbox(voterVisitDetail) ; lightbox.open(0, 'lightbox')" src="{{voterVisitDetail.VisitPhoto.split(',')[0]}}"></span>
                                <span *ngIf="!voterVisitDetail?.VisitPhoto"><img class="extrainfo-img" src="https://static.toiimg.com/thumb/msid-62205005,width-400,resizemode-4/62205005.jpg"></span>
                            </div>
                            <div class="flex-grow-1 ms-3">
                                <div class="voter-data">{{voterVisitDetail.VisitDate}}</div>
                                <div class="voter-data">{{voterVisitDetail.visittype}}</div>
                                <div class="voter-label">
                                    {{voterVisitDetail.VisitDetails}}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-3">


            <div class="card mb-3" *ngIf="MigInfoHide">
                <div class="card-header">
                    <h6 class="voter-data text-main fw-bold">{{VPMemberDetailsData?.Family}}</h6>
                </div>
                <div class="card-body form-container pt-0">
                    <div class="row">
                        <div class="col-sm-4">
                            <label class="form-label">Age</label>
                            <div class="form-data">{{VPMemberDetailsData?.Age}}</div>
                        </div>
                        <div class="col-sm-4">
                            <label class="form-label">Date of Birth</label>
                            <div class="form-data">{{VPMemberDetailsData?.DateOfBirth}}</div>
                        </div>
                        <div class="col-sm-4">
                            <label class="form-label">Gender</label>
                            <div class="form-data">{{VPMemberDetailsData?.Gender == 'M' ? 'Male' : VPMemberDetailsData?.Gender == 'F' ? 'Female' : '-'  }}</div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <label class="form-label">Area:</label>
                            <span class="form-data">{{VPMemberDetailsData?.Area}}</span>
                        </div>
                    </div>
                </div>
                <div class="card-header">
                    Migration Information
                </div>
                <div class="card-body pt-0 px-0">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="voter-label">Migrated :</span>
                                <span class="voter-data">{{VPMemberDetailsData?.Migrated ? VPMemberDetailsData?.Migrated : '-'}}</span>
                            </div>
                            <!-- <div class="voter-data mt-1">
                                {{VPMemberDetailsData?.Address ? VPMemberDetailsData?.Address : '-'}}
                            </div> -->
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="voter-label">Postal Voting :</span>
                            <span class="voter-data">{{VPMemberDetailsData?.PostalFlag == 0 ? 'No' : VPMemberDetailsData?.PostalFlag  == 1 ? 'Yes' : '-'}}</span>
                            
                        </li>
                        <li class="list-group-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="voter-label">Need Support :</span>
                                <span class="voter-data">{{VPMemberDetailsData?.NeedSupportFlag == 0 ? 'No' :  VPMemberDetailsData?.NeedSupportFlag == 1 ? 'Yes' : '-'}}</span>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="card mb-3">
                <div class="card-header">
                    Additional Information
                </div>
                <div class="card-body px-0 pt-0">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="voter-label">Dairy Farmer :</span>
                            <span class="voter-data"> {{voterProfileData?.IsDairyFarmer == 0 ? 'No' : voterProfileData?.IsDairyFarmer  == 1 ? 'Yes' : '-'}}</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="voter-label">Goat/Sheep Farmer :</span>
                            <span class="voter-data">{{voterProfileData?.IsGoatSheepFarmer == 0 ? 'No' : voterProfileData?.IsGoatSheepFarmer  == 1 ? 'Yes' : '-'}}</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="voter-label">Sugarcane/Cutter-Worker :</span>
                            <span class="voter-data">{{voterProfileData?.IsSugarCaneCutter == 0 ? 'No' : voterProfileData?.IsSugarCaneCutter  == 1 ? 'Yes' : '-'}}</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="voter-label">Farmer :</span>
                            <span class="voter-data">{{voterProfileData?.IsFarmer == 0 ? 'No' : voterProfileData?.IsFarmer  == 1 ? 'Yes' : '-'}}</span>
                        </li>
                        <li class="list-group-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="voter-label">Business :</span>
                                <span class="voter-data">{{voterProfileData?.HaveBusiness == 0 ? 'No' : voterProfileData?.HaveBusiness  == 1 ? 'Yes' : '-'}}</span>
                            </div>
                            <div class="voter-data mt-1">
                                {{voterProfileData?.BusinnessDetails ? voterProfileData?.BusinnessDetails : '-' }}
                            </div>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="voter-label">Yuvak :</span>
                            <span class="voter-data">{{voterProfileData?.IsYuvak == 0 ? 'No' : voterProfileData?.IsYuvak  == 1 ? 'Yes' : '-'}}</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="voter-label">Vehicle :</span>
                            <span class="voter-data">{{voterProfileData?.HaveVehicle == 1 ? 'Bike' : voterProfileData?.HaveVehicle  == 2 ? 'Family' : voterProfileData?.HaveVehicle  == 0 ? 'None' : '-'}}</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="voter-label">Income Group :</span>
                            <span class="voter-data">{{voterProfileData?.FinancialCondition == 1 ? 'Low' : voterProfileData?.FinancialCondition  == 2 ? 'Med' : voterProfileData?.FinancialCondition  == 3 ? 'High' : '-'}}</span>
                        </li>
                        <li class="list-group-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="voter-label">Comments :
                                <ul *ngFor="let VPComments of VPCommentData">
                                    <li *ngIf="VPComments?.CommentDetails">{{VPComments?.CommentDetails}}</li> 
                                </ul>
                                <span *ngIf="VPCommentData?.length == 0">No Comments</span>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="card card-body p-2">
                <label class="form-label">Location: <small>{{voterProfileData?.VillageName}},{{voterProfileData?.BoothName}},
                    {{voterProfileData?.Area}}</small>
                </label>
                <agm-map [latitude]="lat" [longitude]="lng" [zoom]="zoom" [mapTypeId]="'roadmap'">
                    <div *ngFor="let votersonmap of VPVotersonmapData">
                    <agm-marker  [latitude]="votersonmap?.Latitude" [longitude]="votersonmap?.Longitude">
                    </agm-marker>
                </div>
                </agm-map>
            </div>
            <!-- <ng-template #elseBlock>
                <div class="h-20 text-center">
                    <img src="assets/images/location-not-found.svg" class="img-h300">
                </div>
            </ng-template> -->


        </div>
    </div>
</div>